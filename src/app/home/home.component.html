<div class="max-w-7xl mx-auto px-6 py-8">
    <h1 class="text-2xl font-semibold mb-6">Popular Recipes</h1>
    <div class="flex  gap-6">
        <div *ngIf="recipes.length > 0; else noRecipes">
            <!-- <div *ngIf="gridView"> -->
            <div class="flex  gap-6">
                <app-meal-card *ngFor="let recipe of recipes; let i = index" [mealData]="recipe"></app-meal-card>
            </div>
            <!-- </div>
           <div *ngIf="!gridView">
               <app-meal-list *ngFor="let recipe of recipes; let i = index" [mealData]="recipe"></app-meal-list>
           </div> -->
        </div>
        <ng-template #noRecipes>
            <p class="text-gray-500">No recipes found. Please add a recipe first!</p>
        </ng-template>
    </div>
    <h2 class="text-2xl font-semibold mt-12 mb-6">Recent Meal Plans</h2>
    <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-100">
        <div class="flex items-center justify-between mb-6">
            <h3 class="font-medium">This Week&#39;s Plan</h3>
            <!-- <div class="flex gap-2">
                <button
                    class="!rounded-button bg-custom text-white px-4 py-2 rounded-lg hover:bg-custom/90"
                    onclick="showEditPlan()"><i class="fas fa-edit mr-2"></i>Edit Plan</button>
                    <button
                    class="!rounded-button bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700"><i
                        class="fas fa-plus mr-2"></i>Create New Plan</button></div> -->
        </div>
        <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-7 gap-6">
            <!-- <div class="text-center">
                <div class="text-sm font-medium text-gray-500 mb-2">Mon</div>
                <div
                    class="bg-gray-50 rounded-xl p-4 cursor-pointer hover:bg-gray-100 transition-all duration-200 border border-gray-200">
                    <img src="https://creatie.ai/ai/api/search-image?query=A%20professional%20food%20photography%20shot%20of%20a%20quinoa%20bowl&width=100&height=100&flag=1dc73faf-5737-4029-a7f4-a152ca1b5993&flag=c274e9ee-8154-466e-ba70-790d01447a4d&flag=cdd82547-9f3c-429b-9753-b904a4f50bca"
                        class="w-20 h-20 rounded-xl mx-auto mb-3 object-cover shadow-sm" alt="Monday Meal" /><span
                        class="text-sm">Quinoa Bowl</span>
                    <div class="mt-2 flex justify-center gap-2"><button class="text-blue-600 hover:text-blue-800"><i
                                class="fas fa-edit"></i></button><button class="text-red-600 hover:text-red-800"><i
                                class="fas fa-trash"></i></button>
                    </div>
                </div>
            </div> -->
            <div class="text-center" *ngFor="let day of weekKeys">
                <div class="text-sm font-medium text-gray-500 mb-2 capitalize">{{ day }}</div>

                <div class="bg-gray-50 rounded-xl p-4 cursor-pointer hover:bg-gray-100 transition-all duration-200 border border-gray-200"
                    (click)="addWeekMeal(day)">

                    <div *ngIf="week[day]; else addMealTemplate">
                        <img [src]="week[day]?.image" class="w-20 h-20 rounded-xl mx-auto mb-3 object-cover"
                            alt="{{week[day]?.name}}" />
                        <p class="text-sm font-medium">{{ week[day]?.name }}</p>
                        <p class="text-xs text-gray-500">{{ week[day]?.prepTime }} mins | {{ week[day]?.calories }} cal
                        </p>
                    </div>

                    <ng-template #addMealTemplate>
                        <div class="w-20 h-20 rounded-xl mx-auto mb-3 flex items-center justify-center bg-gray-200">
                            <i class="fas fa-plus text-gray-400"></i>
                        </div>
                        <span class="text-sm text-gray-400">Add Meal</span>
                    </ng-template>
                </div>
            </div>

            <!-- <div class="text-center">
                <div class="text-sm font-medium text-gray-500 mb-2">Wed</div>
                <div
                    class="bg-gray-50 rounded-xl p-4 cursor-pointer hover:bg-gray-100 transition-all duration-200 border border-gray-200">
                    <div class="w-20 h-20 rounded-xl mx-auto mb-3 flex items-center justify-center bg-gray-200">
                        <i class="fas fa-plus text-gray-400"></i>
                    </div><span class="text-sm text-gray-400">Add Meal</span>
                </div>
            </div>
            <div class="text-center">
                <div class="text-sm font-medium text-gray-500 mb-2">Thu</div>
                <div
                    class="bg-gray-50 rounded-xl p-4 cursor-pointer hover:bg-gray-100 transition-all duration-200 border border-gray-200">
                    <div class="w-20 h-20 rounded-xl mx-auto mb-3 flex items-center justify-center bg-gray-200">
                        <i class="fas fa-plus text-gray-400"></i>
                    </div><span class="text-sm text-gray-400">Add Meal</span>
                </div>
            </div>
            <div class="text-center">
                <div class="text-sm font-medium text-gray-500 mb-2">Fri</div>
                <div
                    class="bg-gray-50 rounded-xl p-4 cursor-pointer hover:bg-gray-100 transition-all duration-200 border border-gray-200">
                    <div class="w-20 h-20 rounded-xl mx-auto mb-3 flex items-center justify-center bg-gray-200">
                        <i class="fas fa-plus text-gray-400"></i>
                    </div><span class="text-sm text-gray-400">Add Meal</span>
                </div>
            </div>
            <div class="text-center">
                <div class="text-sm font-medium text-gray-500 mb-2">Sat</div>
                <div
                    class="bg-gray-50 rounded-xl p-4 cursor-pointer hover:bg-gray-100 transition-all duration-200 border border-gray-200">
                    <div class="w-20 h-20 rounded-xl mx-auto mb-3 flex items-center justify-center bg-gray-200">
                        <i class="fas fa-plus text-gray-400"></i>
                    </div><span class="text-sm text-gray-400">Add Meal</span>
                </div>
            </div>
            <div class="text-center">
                <div class="text-sm font-medium text-gray-500 mb-2">Sun</div>
                <div
                    class="bg-gray-50 rounded-xl p-4 cursor-pointer hover:bg-gray-100 transition-all duration-200 border border-gray-200">
                    <div class="w-20 h-20 rounded-xl mx-auto mb-3 flex items-center justify-center bg-gray-200">
                        <i class="fas fa-plus text-gray-400"></i>
                    </div><span class="text-sm text-gray-400">Add Meal</span>
                </div>
            </div> -->
        </div>
    </div>
</div>
<app-add-meal-week-popup *ngIf="openWeekMealModel" (confirmAction)="confirmAction($event)"></app-add-meal-week-popup>