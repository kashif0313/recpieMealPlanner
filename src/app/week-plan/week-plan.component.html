<div class="flex flex-wrap gap-6 justify-center">
    <div class="w-40 text-center" *ngFor="let day of weekKeys">
        <div class="text-sm font-medium text-gray-500 mb-2 capitalize">{{ day }}</div>

        <div class="bg-gray-50 rounded-xl p-4 cursor-pointer hover:bg-gray-100 transition-all duration-200 border border-gray-200"
            (click)="addWeekMeal(day)">
            <div *ngIf="week[day]; else addMealTemplate">
                <img [src]="week[day]?.image" class="w-20 h-20 rounded-xl mx-auto mb-3 object-cover"
                    alt="{{ week[day]?.name }}" />
                <p class="text-sm font-medium truncate">{{ week[day]?.name }}</p>
                <p class="text-xs text-gray-500">
                    {{ week[day]?.prepTime }} mins | {{ week[day]?.nutrition?.calories || '0' }} cal
                </p>
            </div>

            <ng-template #addMealTemplate>
                <div class="w-20 h-20 rounded-xl mx-auto mb-3 flex items-center justify-center bg-gray-200">
                    <i class="fas fa-plus text-gray-400 text-xl"></i>
                </div>
                <span class="text-sm text-gray-400">Add Meal</span>
            </ng-template>
        </div>
    </div>

    <app-add-meal-week-popup *ngIf="openWeekMealModel"
        (confirmAction)="confirmAction($event)"></app-add-meal-week-popup>
</div>